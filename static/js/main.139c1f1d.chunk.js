(this["webpackJsonpsuperhero-app"]=this["webpackJsonpsuperhero-app"]||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(20),r=a.n(n),i=(a(86),a(3)),l=(a(87),a(88),a(16)),o=a(17),j=a(30),d=a.n(j),b=a(1),m=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(b.jsx)(o.a,{fluid:!0,className:"d-flex justify-content-center align-items-start login-container py-4",children:Object(b.jsx)(l.d,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email||(t.email="Please enter a valid email"),e.password||(t.password="Please enter a password"),t},onSubmit:function(e,t){var a=t.resetForm,s={email:e.email,password:e.password};d.a.post("http://challenge-react.alkemy.org/",s).then((function(e){localStorage.setItem("token",e.data.token),window.location.reload()})).catch((function(){c(!0),setTimeout((function(){c(!1)}),2e3)})),a()},children:function(e){var t=e.errors;return Object(b.jsxs)(l.c,{className:"login-form pt-3 pb-4 px-4",children:[Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsx)("label",{for:"email",children:"Email"}),Object(b.jsx)(l.b,{type:"email",placeholder:"Enter your email",name:"email"}),Object(b.jsx)(l.a,{name:"email",component:function(){return Object(b.jsx)("div",{className:"error-login",children:t.email})}})]}),Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsx)("label",{for:"password",children:"Password"}),Object(b.jsx)(l.b,{type:"password",placeholder:"Enter your password",name:"password"}),Object(b.jsx)(l.a,{name:"password",component:function(){return Object(b.jsx)("div",{className:"error-login",children:t.password})}})]}),a&&Object(b.jsx)("div",{className:"error-login",children:"Invalid email or password"}),Object(b.jsx)("button",{type:"submit",className:"submit-login mt-3",children:"Submit"})]})}})})},h=Object(s.createContext)([]),O=a(36),u=function(){return Object(s.useContext)(h)},x=a(29),p=a(27),g=a(78),f=a(37),N=function(e){for(var t=e.name,a=e.image,s=e.alias,c=e.weight,n=e.height,r=e.workPlace,i=e.eyesColor,l=e.hairColor,o=e.show,j=e.setShowDetailsModal,d="",m=0;m<s.length;m++)d+=" ".concat(s[m],",");var h=function(){j(!1)};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(f.a,{className:"details-modal",show:o,onHide:h,centered:!0,size:"lg",children:[Object(b.jsx)(f.a.Header,{className:"details-modal-header",closeButton:!0,children:Object(b.jsx)(f.a.Title,{className:"details-modal-title",children:t})}),Object(b.jsxs)(f.a.Body,{className:"details-modal-body d-flex flex-column flex-sm-row",children:[Object(b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(b.jsx)("img",{className:"details-image",src:a,alt:""})}),Object(b.jsxs)("div",{className:"pt-3 pt-sm-0 ps-4",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Alias:"}),d.slice(0,-1)]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Weight:"})," ",c]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Height:"})," ",n]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Workplace:"})," ",r]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Eye color:"})," ",i.charAt(0).toUpperCase(),i.slice(1)]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Hair color:"})," ",l.charAt(0).toUpperCase(),l.slice(1)]})]})]}),Object(b.jsx)(f.a.Footer,{className:"details-modal-footer",children:Object(b.jsx)(p.a,{variant:"dark",onClick:h,children:"Close"})})]})})},w=a(11),v=a(12),y=function(e){var t=e.id,a=e.mode,c=Object(s.useState)(""),n=Object(i.a)(c,2),r=n[0],l=n[1],o=Object(s.useState)(""),j=Object(i.a)(o,2),m=j[0],h=j[1],f=Object(s.useState)(""),y=Object(i.a)(f,2),S=y[0],k=y[1],C=Object(s.useState)(""),A=Object(i.a)(C,2),F=A[0],T=A[1],I=Object(s.useState)(""),E=Object(i.a)(I,2),P=E[0],H=E[1],q=Object(s.useState)(""),D=Object(i.a)(q,2),W=D[0],B=D[1],M=Object(s.useState)(""),z=Object(i.a)(M,2),R=z[0],K=z[1],U={intelligence:F,strength:P,speed:W,durability:R,combat:S},G=Object(s.useState)(""),J=Object(i.a)(G,2),V=J[0],L=J[1],Y=Object(s.useState)(""),Q=Object(i.a)(Y,2),X=Q[0],Z=Q[1],$=Object(s.useState)(""),_=Object(i.a)($,2),ee=_[0],te=_[1],ae=Object(s.useState)(""),se=Object(i.a)(ae,2),ce=se[0],ne=se[1],re=Object(s.useState)(""),ie=Object(i.a)(re,2),le=ie[0],oe=ie[1],je=Object(s.useState)(""),de=Object(i.a)(je,2),be=de[0],me=de[1],he=Object(s.useState)(""),Oe=Object(i.a)(he,2),ue=Oe[0],xe=Oe[1],pe=Object(s.useState)(a),ge=Object(i.a)(pe,2),fe=ge[0],Ne=ge[1],we=u(),ve=we.heroes,ye=we.setHeroes,Se=u(),ke=Se.goodAlignmentCount,Ce=Se.setGoodAlignment,Ae=u(),Fe=Ae.badAlignmentCount,Te=Ae.setBadAlignment,Ie=Object(s.useState)(!1),Ee=Object(i.a)(Ie,2),Pe=Ee[0],He=Ee[1],qe=Object(s.useState)(!1),De=Object(i.a)(qe,2),We=De[0],Be=De[1],Me=Object(s.useState)(!1),ze=Object(i.a)(Me,2),Re=ze[0],Ke=ze[1];Object(s.useEffect)((function(){d.a.get("https://www.superheroapi.com/api.php/10227809474243443/".concat(t)).then((function(e){h(e.data.name),l(e.data.image.url),te(e.data.appearance.height[1]),Z(e.data.appearance.weight[1]),H(e.data.powerstats.strength),K(e.data.powerstats.durability),k(e.data.powerstats.combat),B(e.data.powerstats.speed),T(e.data.powerstats.intelligence),L(e.data.biography.alignment),ne(e.data.biography.aliases),oe(e.data.appearance["eye-color"]),xe(e.data.appearance["hair-color"]),me(e.data.work.base)}))}),[ve]),"null"===F&&T(0),"null"===P&&H(0),"null"===R&&K(0),"null"===S&&k(0),"null"===W&&B(0),Object(s.useEffect)((function(){ve.some((function(e){return e.id===t}))?Ne("team"):Ne("search")}),[ve]);var Ue;"team"===fe&&(Ue=Object(b.jsx)(w.a,{onClick:function(){var e=ve.filter((function(e){return e.id!==t}));ye(e),"good"===V?Ce(ke-1):Te(Fe-1)},className:"icon card-icon",icon:v.j})),"search"===fe&&(Ue=Object(b.jsx)(w.a,{className:"icon card-icon",icon:v.f,onClick:function(){ve.length<6?("good"===V&&ke<3&&(ye([].concat(Object(O.a)(ve),[{id:t,name:m,height:ee,weight:X,alias:ce,hairColor:ue,workPlace:be,eyeColor:le,image:r,powerStats:U}])),Ce(ke+1),Ne("team")),"good"===V&&ke>=3&&(Be(!0),setTimeout((function(){return Be(!1)}),1500)),"bad"===V&&Fe<3&&(ye([].concat(Object(O.a)(ve),[{id:t,name:m,height:ee,weight:X,alias:ce,hairColor:ue,workPlace:be,eyeColor:le,image:r,powerStats:U}])),Te(Fe+1),Ne("team")),"bad"===V&&Fe>=3&&(Ke(!0),setTimeout((function(){return Ke(!1)}),1500)),"neutral"===V&&Fe<3&&(ye([].concat(Object(O.a)(ve),[{id:t,name:m,height:ee,weight:X,alias:ce,hairColor:ue,workPlace:be,eyeColor:le,image:r,powerStats:U}])),Te(Fe+1),Ne("team")),"neutral"===V&&Fe>=3&&(Ke(!0),setTimeout((function(){return Ke(!1)}),1500))):(He(!0),setTimeout((function(){return He(!1)}),1500))}}));var Ge=Object(s.useState)(!1),Je=Object(i.a)(Ge,2),Ve=Je[0],Le=Je[1];return Object(b.jsx)(b.Fragment,{children:""===r?Object(b.jsx)(g.a,{animation:"border",className:"m-3"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(N,{name:m,alias:ce,weight:X,height:ee,workPlace:be,eyesColor:le,hairColor:ue,image:r,show:Ve,setShowDetailsModal:Le}),Object(b.jsxs)(x.a,{className:"card m-2",style:{maxWidth:"16rem",backgroundColor:"#2c3957"},children:[Object(b.jsx)(x.a.Img,{className:"card-image",variant:"top",src:r}),Object(b.jsxs)(x.a.Body,{children:[Object(b.jsxs)(x.a.ImgOverlay,{className:"d-flex flex-column p-0 ",children:[Object(b.jsxs)(x.a.Title,{className:"card-title p-2 px-3 d-flex m-0",children:[m,Ue]}),Object(b.jsx)("p",{className:"alignment-card p-1",children:"good"===V?Object(b.jsx)(w.a,{style:{color:"#ADDD2F"},className:"icon",icon:v.e}):Object(b.jsx)(w.a,{style:{color:"#DF4E3A"},className:"icon",icon:v.a})}),Pe&&Object(b.jsx)("p",{className:"warning-sign",children:"Too many heroes in your team"}),We&&Object(b.jsx)("p",{className:"warning-sign",children:"Too many good heroes in your team"}),Re&&Object(b.jsx)("p",{className:"warning-sign",children:"Too many bad heroes in your team"}),Object(b.jsx)(p.a,{className:"details-button",variant:"dark",onClick:function(){Le(!0)},children:"Details"})]}),Object(b.jsxs)(x.a.Text,{className:"d-flex p-2 mb-4",children:[Object(b.jsxs)("div",{className:"hero-stats",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.b})," ",F]}),Object(b.jsxs)("div",{className:"hero-stats",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.i})," ",W]}),Object(b.jsxs)("div",{className:"hero-stats",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.d})," ",S]}),Object(b.jsxs)("div",{className:"hero-stats",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.g})," ",R]}),Object(b.jsxs)("div",{className:"hero-stats",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.c})," ",P]})]})]})]})]})})},S=function(){var e=u().heroes;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(o.a,{fluid:!0,className:"team-container d-flex flex-column pt-3 ",children:Object(b.jsx)("div",{className:"d-flex justify-content-center flex-wrap pt-4",children:0===e.length?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(b.jsx)("p",{style:{fontSize:"1.5rem",color:"#fff",display:"block",textAlign:"center"},children:" No heroes yet."}),Object(b.jsx)("p",{style:{fontSize:"1.2rem",color:"#ccc",display:"block",textAlign:"center"},children:"With great power comes great responsibility... choose wisely."})]})}):e.map((function(e){return Object(b.jsx)(y,{id:e.id,mode:"team"})}))})})})},k=function(){var e=u().token;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(o.a,{fluid:!0,className:"title-container d-flex flex-column align-items-center py-4",children:[e&&Object(b.jsxs)(p.a,{className:"ms-auto mb-4 ",variant:"warning",onClick:function(){localStorage.removeItem("token"),window.location.reload()},children:[Object(b.jsx)(w.a,{icon:v.h}),"Log-out"]}),Object(b.jsx)("h1",{className:"page-title",children:"SuperHero App"}),Object(b.jsx)("p",{className:"page-subtitle",children:"Make your own superhero team!"})]})})},C=a(79),A=a(65),F=function(e){var t=e.averageWeight,a=e.averageHeight,s=u().heroes,c=u().powerStatsCount,n=[];for(var r in c)n.push(c[r]);var i,l=Math.max.apply(Math,n);for(var j in c)c[j]===l&&(i=j);return Object(b.jsx)(b.Fragment,{children:0!==s.length&&Object(b.jsx)(o.a,{fluid:!0,className:"team-stats-container",children:Object(b.jsxs)(C.a,{children:[Object(b.jsxs)(A.a,{className:"team-stats-col d-flex flex-column align-items-center m-2 p-2",children:[Object(b.jsx)("h3",{className:"h2",children:Object(b.jsx)("u",{children:"Your Team"})}),Object(b.jsxs)("div",{className:"p-2 m-2 team-stats-box",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Team type:"})," ",i.charAt(0).toUpperCase(),i.slice(1)," "]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Average weight:"})," ",t.toFixed(1)," kg"]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Average height:"})," ",a.toFixed(1)," cm"]})]})]}),Object(b.jsxs)(A.a,{className:"team-stats-col d-flex flex-column align-items-center m-2",children:[Object(b.jsx)("h3",{className:"h2",children:Object(b.jsx)("u",{children:"Team Powerstats"})}),Object(b.jsxs)("div",{className:"d-flex p-3 m-2 team-stats-box",children:[Object(b.jsxs)("div",{className:"hero-stats mx-1",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.b}),Object(b.jsx)("br",{}),c.intelligence]}),Object(b.jsxs)("div",{className:"hero-stats  mx-1",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.i}),Object(b.jsx)("br",{}),c.speed]}),Object(b.jsxs)("div",{className:"hero-stats mx-1",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.d}),Object(b.jsx)("br",{}),c.combat]}),Object(b.jsxs)("div",{className:"hero-stats mx-1",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.g}),Object(b.jsx)("br",{}),c.durability]}),Object(b.jsxs)("div",{className:"hero-stats mx-1",children:[Object(b.jsx)(w.a,{className:"icon",icon:v.c}),Object(b.jsx)("br",{}),c.strength]})]})]})]})})})},T=function(e){var t=e.showResults,a=e.setShowResults,c=Object(s.useState)([]),n=Object(i.a)(c,2),r=n[0],j=n[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.a,{fluid:!0,className:"search-container p-2 d-flex justify-content-center",children:Object(b.jsx)(l.d,{initialValues:{query:""},validate:function(e){var t={};return e.query.length<=1&&(t.query="Enter two or more chars to search"),t},onSubmit:function(e,t){var s=t.resetForm,c="https://superheroapi.com/api.php/10227809474243443/search/".concat(e.query);e.query.length>1&&(d.a.get(c).then((function(e){j([]),e.data.results&&j(e.data.results)})),a(!0),s()),s()},children:function(e){var t=e.errors;return Object(b.jsxs)(l.c,{className:"d-flex flex-column",children:[Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)(l.b,{type:"text",name:"query"}),Object(b.jsx)(p.a,{type:"submit",className:"ms-2",children:"Search a superhero!"})]}),Object(b.jsx)(l.a,{name:"query",component:function(){return Object(b.jsx)("div",{className:"error-login p-1 mt-3",children:t.query})}})]})}})}),Object(b.jsx)(o.a,{fluid:!0,className:"results-container",children:Object(b.jsx)("div",{className:"d-flex flex-wrap justify-content-center align-content-center",children:t&&(0===r.length?Object(b.jsx)("p",{className:"m-2",style:{fontWeight:"bolder",fontSize:"1.5rem"},children:"No heroes found"}):r.map((function(e){return Object(b.jsx)(y,{mode:"search",id:e.id})})))})})]})},I=a(81),E=a(66);var P=function(){var e=localStorage.getItem("token"),t=Object(s.useState)([]),a=Object(i.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(!1),l=Object(i.a)(r,2),o=l[0],j=l[1],d=Object(s.useState)(0),O=Object(i.a)(d,2),u=O[0],x=O[1],p=Object(s.useState)(0),g=Object(i.a)(p,2),f=g[0],N=g[1],w=Object(s.useState)({}),v=Object(i.a)(w,2),y=v[0],C=v[1],A=Object(s.useState)(0),P=Object(i.a)(A,2),H=P[0],q=P[1],D=Object(s.useState)(0),W=Object(i.a)(D,2),B=W[0],M=W[1];return Object(s.useEffect)((function(){var e=0,t=0,a=0,s=0,n=0;c.forEach((function(c){e+=parseInt(c.powerStats.intelligence),t+=parseInt(c.powerStats.combat),a+=parseInt(c.powerStats.strength),s+=parseInt(c.powerStats.speed),n+=parseInt(c.powerStats.durability)})),C({intelligence:e,combat:t,strength:a,speed:s,durability:n});var r=0,i=0;c.forEach((function(e){r+=parseInt(e.height),i+=parseInt(e.weight)})),M(r/c.length),q(i/c.length)}),[c]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(h.Provider,{value:{token:e,heroes:c,setHeroes:n,goodAlignmentCount:u,setGoodAlignment:x,badAlignmentCount:f,setBadAlignment:N,powerStatsCount:y},children:[Object(b.jsx)(k,{}),e?Object(b.jsxs)(I.a,{defaultActiveKey:"team",id:"uncontrolled-tab-example",className:"d-flex justify-content-center tab-container",children:[Object(b.jsxs)(E.a,{className:"app-tab",eventKey:"team",title:"Team",children:[Object(b.jsx)(F,{averageWeight:H,averageHeight:B}),Object(b.jsx)(S,{})]}),Object(b.jsx)(E.a,{className:"app-tab",eventKey:"search",title:"Search",children:Object(b.jsx)(T,{showResults:o,setShowResults:j})})]}):Object(b.jsx)(m,{})]})})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root"))},86:function(e,t,a){},87:function(e,t,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.139c1f1d.chunk.js.map